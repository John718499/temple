"use strict";(self.webpackChunktemple=self.webpackChunktemple||[]).push([[998],{998:function(t,e,n){n.r(e),n.d(e,{default:function(){return W}});var r=n(4165),i=n(5861),o=n(5671),c=n(3144),a=n(136),s=n(9388),u=n(2791),l=n(3504),d=n(6871),h=n(2822),f=n(5125),p=function(t){var e=new Date(t);return"".concat(e.getFullYear()," \u5e74 ").concat((e.getMonth()+1).toString().padStart(2,"0")," \u6708 ").concat(e.getDate()," \u65e5")},v=function(t){var e=new Date(t);return[(e.getFullYear()-1911).toString(),"\u5e74",(e.getMonth()+1).toString().padStart(2,"0"),"\u6708",e.getDate().toString().padStart(2,"0"),"\u65e5"]},x=.7,m=.5,C=.35,w=function(){var t=20,e=157/22,n=35+e;return{px1:t,py1:35,px2:140,py2:192,LineCount:22,LineHeight:e,FirstColWidth:20,SecondColWidth:40,ThirdColWidth:60,FirstRowY:n,SecondRowY:49.27272727272728,FirstColX:20,SecondColX:40,ThirdColX:80,TitDev:45.5,FirstColDev:4,SecondColDev:13.5,ThirdColDev:4}}(),g=function(){var t=157,e=157/22,n=20,r=35+e;return{px1:t,py1:35,px2:277,py2:192,LineCount:22,LineHeight:e,FirstColWidth:n,SecondColWidth:40,ThirdColWidth:20,FourthColWidth:40,FirstRowY:r,SecondRowY:49.27272727272728,FirstColX:157,SecondColX:177,ThirdColX:217,FourthColX:237,TitDev:45.5,FirstColDev:4,SecondColDev:13.5,ThirdColDev:4,FourthColDev:13.5}}(),y=function(t,e,n){var r=new f.kH;r.setTextColor(255,0,0);var i=0,o=0,c=30,a=29,s=function(t){return function(e){var n=0;switch(e.name.length){case 2:n=3;break;case 4:n=-3;break;case 5:n=-8;break;case 6:n=-12}r.setFont("kaiu","bold"),r.setFontSize(25),r.text(e.name,c+n,a),e.birthday&&t&&T(r,c,a,v(e.birthday)),i<2?(i++,c+=64):o<7?(i=0,c=30,o++,a+=34.35):(r.addPage(),i=0,o=0,c=30,a=29)}};e.forEach(s(!0)),n.forEach(s(!1)),r.save("".concat(t,"\u8cbc\u7d19.pdf"))},S=function(t,e,n,r){var i=new f.kH("l");i.setTextColor(0,0,0);for(var o=e.length,c=n.length,a=Math.ceil(o/20),s=Math.ceil(c/40),u=Math.max(a,s),l=0;l<u;l++){0!==l&&i.addPage(),k(i,r,l+1,u);for(var d=0;d<20;d++){var h=e[20*l+d];if(h){i.setFont("kaiu","bold"),i.setFontSize(18);var p=(w.SecondColWidth-6*h.name.length)/2,x=(d+1)*w.LineHeight;i.text(h.name,w.SecondColX+p,w.SecondRowY+x-1.3);var m=v(h.birthday),C=3*(m.join("").length-3)+18,y=(w.ThirdColWidth-C)/2;Z(i,w.ThirdColX+y,w.SecondRowY+x-1.3,m)}}for(var S=0;S<40;S++){var b=n[40*l+S];if(b){i.setFont("kaiu","bold"),i.setFontSize(18);var F=S<20?g.SecondColX:g.FourthColX,j=((S<20?g.SecondColWidth:g.FourthColWidth)-6*b.name.length)/2,T=(S%20+1)*g.LineHeight;i.text(b.name,F+j,g.SecondRowY+T-1.3)}}}i.save("".concat(t,"\u6e05\u55ae.pdf"))},k=function(t,e,n,r){t.setFont("kaiu","bold"),t.setFontSize(30),t.text("\u6f6e\u5dde\u5929\u5b98\u5bae\u4fe1\u7537\u3001\u4fe1\u5973\u5b89\u592a\u6b72\u65e2\u5e73\u5b89\u71c8\u540d\u518a",56,20),b(t,e,n),F(t,n,r)},b=function(t,e,n){t.setLineWidth(x),t.line(w.px1-C,w.py1,w.px2+C,w.py1),t.line(w.px1,w.py1-C,w.px1,w.py2+C),t.line(w.px1-C,w.py2,w.px2+C,w.py2),t.line(w.px2,w.py1-C,w.px2,w.py2+C),t.setFont("kaiu","bold"),t.setFontSize(16),j((function(){return t.text("\u5e74\u4efd",w.px1,w.py1-1)})),j((function(){return t.text("\u5e74",w.px1+23,w.py1-1)})),t.setFont("Times","bold"),t.text(": ".concat(e),w.px1+11,w.py1-1);for(var r=1;r<w.LineCount;r++){var i=w.LineHeight*r+w.py1;1==r||2==r?t.setLineWidth(x):t.setLineWidth(m),t.line(w.px1-C+.1,i,w.px2+C-.1,i)}t.setLineWidth(x),t.line(w.SecondColX,w.FirstRowY-C+.1,w.SecondColX,w.SecondRowY+C-.1),t.line(w.ThirdColX,w.FirstRowY-C+.1,w.ThirdColX,w.SecondRowY+C-.1),t.setLineWidth(m),t.line(w.SecondColX,w.SecondRowY-C+.1,w.SecondColX,w.py2+C-.1),t.line(w.ThirdColX,w.SecondRowY-C+.1,w.ThirdColX,w.py2+C-.1),t.setFont("kaiu","bold"),t.setFontSize(18),j((function(){return t.text("\u592a\u6b72\u71c8\u540d\u518a",w.px1+w.TitDev,w.FirstRowY-1.5)})),j((function(){return t.text("\u7de8\u865f",w.FirstColX+w.FirstColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u59d3\u540d",w.SecondColX+w.SecondColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u51fa\u751f",w.ThirdColX+w.ThirdColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u5e74",w.ThirdColX+13.7+w.ThirdColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u6708",w.ThirdColX+21.6+w.ThirdColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u65e5",w.ThirdColX+29.5+w.ThirdColDev,w.SecondRowY-1.5)})),j((function(){return t.text("\u8fb2\u66c6",w.ThirdColX+38+w.ThirdColDev,w.SecondRowY-1.5)})),t.setFont("Times","bold"),t.text("(       )",w.ThirdColX+36+w.ThirdColDev,w.SecondRowY-2);t.setFont("Times","bold");for(var o=0;o<20;o++){var c="".concat(o+20*(n-1)+1),a=(o+1)*w.LineHeight,s=(w.FirstColWidth-3*c.length)/2;t.text(c,w.px1+s,w.SecondRowY+a-1)}},F=function(t,e,n){t.setLineWidth(x),t.line(g.px1-C,g.py1,g.px2+C,g.py1),t.line(g.px1,g.py1-C,g.px1,g.py2+C),t.line(g.px1-C,g.py2,g.px2+C,g.py2),t.line(g.px2,g.py1-C,g.px2,g.py2+C),t.setFont("Times","bold"),t.setFontSize(16);var r="".concat(e,"/").concat(n);t.text("page:".concat(r),g.px2-(15+2.8*(r.length-1)),g.py1-1);for(var i=1;i<g.LineCount;i++){var o=g.LineHeight*i+g.py1;1==i||2==i?t.setLineWidth(x):t.setLineWidth(m),t.line(g.px1-C+.1,o,g.px2+C-.1,o)}t.setLineWidth(x),t.line(g.SecondColX,g.FirstRowY-C+.1,g.SecondColX,g.SecondRowY+C-.1),t.line(g.ThirdColX,g.FirstRowY-C+.1,g.ThirdColX,g.SecondRowY+C-.1),t.line(g.FourthColX,g.FirstRowY-C+.1,g.FourthColX,g.SecondRowY+C-.1),t.setLineWidth(m),t.line(g.SecondColX,g.SecondRowY-C+.1,g.SecondColX,g.py2+C-.1),t.line(g.ThirdColX,g.SecondRowY-C+.1,g.ThirdColX,g.py2+C-.1),t.line(g.FourthColX,g.SecondRowY-C+.1,g.FourthColX,g.py2+C-.1),t.setFont("kaiu","bold"),t.setFontSize(18),j((function(){return t.text("\u5149\u660e\u71c8\u540d\u518a",g.px1+g.TitDev,g.FirstRowY-1.5)})),j((function(){return t.text("\u7de8\u865f",g.FirstColX+g.FirstColDev,g.SecondRowY-1.5)})),j((function(){return t.text("\u59d3\u540d",g.SecondColX+g.SecondColDev,g.SecondRowY-1.5)})),j((function(){return t.text("\u7de8\u865f",g.ThirdColX+g.ThirdColDev,g.SecondRowY-1.5)})),j((function(){return t.text("\u59d3\u540d",g.FourthColX+g.FourthColDev,g.SecondRowY-1.5)}));t.setFont("Times","bold");for(var c=0;c<40;c++){var a="".concat(c+40*(e-1)+1),s=(c%20+1)*g.LineHeight,u=c<20?g.FirstColX:g.ThirdColX,l=((c<20?g.FirstColWidth:g.ThirdColWidth)-3*a.length)/2;t.text(a,u+l,g.SecondRowY+s-1)}},j=function(t){t(),t()},T=function(t,e,n,r){t.setFontSize(10),r.forEach((function(i,o){if(o%2===0?t.setFont("Times","bold"):t.setFont("kaiu","bold"),0!==o&&(e+=4.2),0===o&&3===r[0].length)e-=1;if(t.text(i,e,n+4),0===o&&3===r[0].length)e+=2}))},Z=function(t,e,n,r){r.forEach((function(r,i){i%2===0?t.setFont("Times","bold"):t.setFont("kaiu","bold"),t.text(r,e,n),e+=i%2===0?3*r.length:6*r.length}))},X=n(4221),Y=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("../../kaiu-bold.json").then(function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e){var n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent.font,i=function(){this.addFileToVFS("kaiu-bold.ttf",n),this.addFont("kaiu-bold.ttf","kaiu","bold")},f.kH.API.events.push(["addFonts",i]);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=n(184);function R(t){var e=(0,u.useRef)(null);e.current&&(""===t.checked?e.current.indeterminate=!0:e.current.indeterminate=!1);var n=null;return t.Text&&(n=(0,D.jsx)("label",{className:"form-check-label",children:t.Text})),(0,D.jsxs)("div",{className:"form-check d-inline-block".concat(t.className?" ".concat(t.className):""),children:[(0,D.jsx)("input",{ref:e,disabled:t.disabled,className:"form-check-input",type:"checkbox","data-key":t["data-key"],checked:t.checked,onChange:t.onChange?t.onChange:function(){}}),n]})}var N=n(3446),H=function(t){(0,a.Z)(n,t);var e=(0,s.Z)(n);function n(t){var c;return(0,o.Z)(this,n),(c=e.call(this,t)).AllSelectChange=function(){var t=!c.state.allSelect,e=c.state.data;e.forEach((function(e){return e.check=t})),c.setState({allSelect:t,data:e})},c.dyTable=function(){for(var t=[],e=0;e<c.state.data.length;e++){var n=c.state.data[e];t.push((0,D.jsxs)("div",{className:"mt-3 mb-3 row",style:{display:"flex"},children:[(0,D.jsx)("div",{className:"col-1 pb-3 justify-content-center align-items-center text-nowrap",children:(0,D.jsx)(R,{"data-key":e,checked:c.state.data[e].check||!1,onChange:function(t){return c.CheckBoxValueChange("check",t)}})}),(0,D.jsx)("div",{className:"col-11 col-md-3 pb-3 justify-content-center align-items-center text-nowrap",children:(0,D.jsxs)("label",{children:["\u59d3\u540d:",null===n||void 0===n?void 0:n.name]})}),(0,D.jsx)("div",{className:"col-1 d-md-none"}),(0,D.jsx)("div",{className:"col-11 col-md-4 pb-3 justify-content-center align-items-center text-nowrap",children:(0,D.jsxs)("label",{children:["\u51fa\u751f\u5e74\u6708\u65e5:",p(n.birthday)]})}),(0,D.jsx)("div",{className:"col-1 d-md-none"}),(0,D.jsxs)("div",{className:"col-11 col-md-4 pb-3 align-items-center text-nowrap",children:[(0,D.jsx)(R,{className:"me-3",disabled:!0,"data-key":e,checked:c.state.data[e].light1,Text:"\u592a\u6b72\u71c8"}),(0,D.jsx)(R,{disabled:!0,"data-key":e,checked:c.state.data[e].light2,Text:"\u5149\u660e\u71c8"})]})]},e))}return t},c.ExportStickerPDF=(0,i.Z)((0,r.Z)().mark((function t(){var e,n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:if(e=c.state.data.filter((function(t){return t.light1&&t.check})),n=c.state.data.filter((function(t){return t.light2&&t.check})),0!==e.length||0!==n.length){t.next=7;break}return X.fn.warning("\u8acb\u9078\u64c7\u8981\u5217\u5370\u7684\u9805\u76ee","\u8b66\u544a",3e3),t.abrupt("return");case 7:y(c.state.info.name,e,n);case 8:case"end":return t.stop()}}),t)}))),c.ExportListPDF=(0,i.Z)((0,r.Z)().mark((function t(){var e,n,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y();case 2:if(e=c.state.data.filter((function(t){return t.light1})),n=c.state.data.filter((function(t){return t.light2})),0!==e.length||0!==n.length){t.next=7;break}return X.fn.warning("\u6c92\u6709\u53ef\u5217\u5370\u7684\u9805\u76ee","\u8b66\u544a",3e3),t.abrupt("return");case 7:i=new Date(c.state.info.date).getFullYear()-1911,S(c.state.info.name,e,n,i);case 9:case"end":return t.stop()}}),t)}))),c.state={info:null,data:[],allSelect:!1},c}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){var t=this;(0,h.Os)(this.props.id,(function(e){t.setState({info:e})})),(0,h.Ne)(this.props.id,(function(e){t.setState({data:e,num:e.length})}),(function(t){console.log(t)}))}},{key:"CheckBoxValueChange",value:function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n){var i,o,c,a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.target.getAttribute("data-key"),(o=this.state.data)[i][e]=!o[i][e],c=o.length,a=o.filter((function(t){return t.check})).length,s=0!==a&&(a===c||""),t.next=8,this.setState({data:o,allSelect:s});case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return this.state.info?(0,D.jsx)("div",{className:"container",children:(0,D.jsxs)("div",{className:"mx-auto shadow rounded mt-5 mb-5",style:{maxWidth:"900px",width:"100%",padding:"40px 30px"},children:[(0,D.jsx)("p",{className:"fs-2 text-center",children:"\u67e5\u770b\u9ede\u71c8\u8cc7\u6599"}),(0,D.jsxs)("div",{className:"row mb-4 py-3",children:[(0,D.jsxs)("div",{className:"col-md-4 my-2",children:["\u540d\u7a31:",this.state.info.name]}),(0,D.jsxs)("div",{className:"col-md-5 my-2",children:["\u622a\u6b62\u65e5\u671f:",p(this.state.info.date)]}),(0,D.jsxs)("div",{className:"col-md-3 my-2",children:["\u7e3d\u4eba\u6578:",this.state.data.length]}),(0,D.jsxs)("div",{className:"col-md-4 my-2",children:["\u592a\u6b72\u71c8:",this.state.data.filter((function(t){return t.light1})).length]}),(0,D.jsxs)("div",{className:"col-md-4 my-2",children:["\u5149\u660e\u71c8:",this.state.data.filter((function(t){return t.light2})).length]})]}),(0,D.jsxs)("div",{className:"row",children:[(0,D.jsx)("div",{className:"col-1 justify-content-center align-items-center text-nowrap",children:(0,D.jsx)(R,{checked:this.state.allSelect,onChange:this.AllSelectChange})}),(0,D.jsx)("div",{className:"col-3 justify-content-center align-items-center text-nowrap",children:(0,D.jsx)("label",{children:"\u5168\u9078"})})]}),(0,D.jsx)("hr",{}),this.dyTable(),(0,D.jsxs)("div",{className:"row mt-5 justify-content-center",children:[(0,D.jsx)("div",{className:"col-12 col-md-3 text-nowarp",children:(0,D.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:function(){return t.ExportStickerPDF()},children:"\u5217\u5370\u8cbc\u7d19"})}),(0,D.jsx)("div",{className:"col-12 col-md-3",children:(0,D.jsx)("button",{className:"btn btn-primary w-100 mb-3",onClick:function(){return t.ExportListPDF()},children:"\u5217\u5370\u6e05\u55ae"})}),(0,D.jsx)("div",{className:"col-12 col-md-3",children:(0,D.jsx)(l.rU,{className:"btn btn-danger w-100 mb-3",to:"./../../../join",children:"\u8fd4\u56de"})})]})]})}):(0,D.jsx)(N.g,{})}}]),n}(u.Component);function W(t){var e=(0,d.UO)().id;return(0,D.jsx)(H,{id:e})}},6115:function(t,e,n){n.d(e,{C:function(){return a},n:function(){return c}});var r=n(9033),i=n(408),o=(0,r.v0)(),c=function(){return new Promise((function(t){if(o.currentUser)t(!0);else var e=(0,r.v0)().onAuthStateChanged((function(n){e(),t(!!n)}))}))},a=function(t){return new Promise((function(e,n){(0,i.jM)(t,(function(t){e(t)}),(function(t){n(t)}),{onlyOnce:!0})}))}},2822:function(t,e,n){n.d(e,{CK:function(){return C},Ce:function(){return v},EJ:function(){return m},N5:function(){return b},NI:function(){return x},Ne:function(){return k},Os:function(){return g},Wo:function(){return d},Z9:function(){return f},_k:function(){return y},_x:function(){return F},av:function(){return p},gk:function(){return S},tf:function(){return j},u$:function(){return w},xJ:function(){return h}});var r=n(1413),i=n(4165),o=n(5861),c=n(408),a=n(6115),s=n(9033),u=(0,c.N8)(),l=(0,s.v0)(),d=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var n,r,o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},r={},o={},t.next=5,(0,a.C)((0,c.iH)(u,"isActive")).then((function(t){t.exists()&&"object"===typeof t.val()&&(n=t.val())}));case 5:return t.next=7,(0,a.C)((0,c.iH)(u,"isAdmin")).then((function(t){t.exists()&&"object"===typeof t.val()&&(r=t.val())}));case 7:return t.next=9,(0,a.C)((0,c.iH)(u,"isSuperAdmin")).then((function(t){t.exists()&&"object"===typeof t.val()&&(o=t.val())}));case 9:return t.next=11,(0,a.C)((0,c.iH)(u,"users")).then((function(t){if(t.exists()){for(var i=t.val(),c=Object.keys(i),a=[],s=0;s<c.length;s++){var u=i[c[s]];if(!o[c[s]]&&!r[c[s]]){var l={Id:c[s],email:u.email||!1,isActive:n[c[s]]||!1,isAdmin:r[c[s]]||!1,isChange:!1};a.push(l)}}e(a)}else e([])})).catch((function(t){console.error(t)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var n,r,o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={},r={},o={},t.next=5,(0,a.C)((0,c.iH)(u,"isActive")).then((function(t){t.exists()&&"object"===typeof t.val()&&(n=t.val())}));case 5:return t.next=7,(0,a.C)((0,c.iH)(u,"isAdmin")).then((function(t){t.exists()&&"object"===typeof t.val()&&(r=t.val())}));case 7:return t.next=9,(0,a.C)((0,c.iH)(u,"isSuperAdmin")).then((function(t){t.exists()&&"object"===typeof t.val()&&(o=t.val())}));case 9:return t.next=11,(0,a.C)((0,c.iH)(u,"users")).then((function(t){if(t.exists()){for(var i=t.val(),c=Object.keys(i),a=[],s=0;s<c.length;s++){var u=i[c[s]];if(!o[c[s]]){var l={Id:c[s],email:u.email||!1,isActive:n[c[s]]||!1,isAdmin:r[c[s]]||!1,isChange:!1};a.push(l)}}e(a)}else e([])})).catch((function(t){console.error(t)}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(t,e,n){try{for(var r=0;r<t.length;r++){var i=t[r];i.isChange&&(0,c.t8)((0,c.iH)(u,"isActive/".concat(i.Id)),i.isActive)}e()}catch(o){n(o)}},p=function(t,e,n){try{for(var r=0;r<t.length;r++){var i=t[r];i.isChange&&((0,c.t8)((0,c.iH)(u,"isActive/".concat(i.Id)),i.isActive),(0,c.t8)((0,c.iH)(u,"isAdmin/".concat(i.Id)),i.isAdmin))}e()}catch(o){n(o)}},v=function(t,e,n,i){(0,c.t8)((0,c.iH)(u,"activity/".concat(t)),(0,r.Z)((0,r.Z)({},e),{},{time:(new Date).getTime()})).then((function(t){return n()})).catch((function(t){return i()}))},x=function(t,e,n,i){(0,c.t8)((0,c.iH)(u,"activity/".concat(t)),(0,r.Z)((0,r.Z)({},e),{},{time:(new Date).getTime()})).then((function(t){return n()})).catch(i)},m=function(t){(0,c.U2)((0,c.iH)(u,"activity/")).then((function(e){e.exists()?t(Object.keys(e.val()).length):t(0)})).catch((function(t){console.error(t)}))},C=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:(0,a.C)((0,c.iH)(u,"activity")).then((function(t){if(t.exists()){var n=t.val().map((function(t,e){return(0,r.Z)((0,r.Z)({},t),{},{date:T(t.date),id:e})})).filter((function(t){return new Date(j())<=new Date(t.date)})).sort((function(t,e){return t.date<e.date?1:-1}));e(n)}else e([])})).catch((function(t){console.error(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:(0,a.C)((0,c.iH)(u,"activity")).then((function(t){if(t.exists()){var n=t.val().map((function(t,e){return(0,r.Z)((0,r.Z)({},t),{},{date:T(t.date),id:e})}));e(n.sort((function(t,e){return t.date<e.date?1:-1})))}else e([])})).catch((function(t){console.error(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(t,e){(0,a.C)((0,c.iH)(u,"activity/".concat(t))).then((function(t){if(t.exists()){var n=t.val();e({name:n.name,date:new Date(n.date).toISOString().split("T")[0]})}else e([])})).catch((function(t){console.error(t)}))},y=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n,r){var o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:o=l.currentUser,(0,a.C)((0,c.iH)(u,"join/".concat(e,"/").concat(o.uid))).then((function(t){t.exists()?n(t.val()):n([{name:"",birthday:"",light1:!1,light2:!1}])})).catch((function(t){r(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),S=function(t,e,n,r){var i=l.currentUser;(0,c.t8)((0,c.iH)(u,"join/".concat(t,"/").concat(i.uid)),e).then((function(t){return n()})).catch((function(t){return r()}))},k=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n,r){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:(0,a.C)((0,c.iH)(u,"join/".concat(e))).then((function(t){if(t.exists()){for(var e=t.val(),r=Object.keys(e),i=[],o=0;o<r.length;o++)i=i.concat(e[r[o]]);n(i)}else n([])})).catch((function(t){r(t)}));case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),b=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n,r){var o;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:o=l.currentUser,(0,c.t8)((0,c.iH)(u,"template/".concat(o.uid)),e).then((function(t){return n()})).catch((function(t){return r()}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),F=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e,n){var r;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.n)();case 2:r=l.currentUser,(0,a.C)((0,c.iH)(u,"template/".concat(r.uid))).then((function(t){if(!t.exists())throw new Error("nodata");e(t.val())})).catch((function(t){n(t)}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),j=function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate())},T=function(t){return new Date(t).toISOString().split("T")[0]}}}]);
//# sourceMappingURL=998.6a2a416b.chunk.js.map