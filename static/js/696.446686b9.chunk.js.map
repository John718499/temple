{"version":3,"file":"static/js/696.446686b9.chunk.js","mappings":"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","sources":["pages/layout/layout.js","services/account-service.js","services/firebase-async.js","../node_modules/@restart/ui/esm/Button.js","../node_modules/react-bootstrap/esm/Button.js","../node_modules/react-bootstrap/esm/ThemeProvider.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["import React from 'react'\r\nimport { Outlet, useNavigate, Link } from 'react-router-dom';\r\nimport { Button } from 'react-bootstrap';\r\nimport { Logout } from '../../services/account-service';\r\nimport { CurrentUser } from '../../services/account-service';\r\nimport { Auth } from '../../services/account-service';\r\nimport { Loading } from '../../components/loading';\r\nimport { NotificationManager } from 'react-notifications';\r\n\r\n\r\nclass Layout extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadedAuth: false,\r\n            menuOpenSataus: false,\r\n            isActive: false,\r\n            isAdmin: false,\r\n            isSuperAdmin: false,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const user = await CurrentUser();\r\n        if (!user) this.props.navigate('/login');\r\n        await Auth();\r\n        await this.setState({\r\n            isActive: localStorage.getItem(\"isActive\") === 'true',\r\n            isAdmin: localStorage.getItem(\"isAdmin\") === 'true',\r\n            isSuperAdmin: localStorage.getItem(\"isSuperAdmin\") === 'true',\r\n            loadedAuth: true,\r\n        })\r\n    }\r\n\r\n    MenuClick = () => {\r\n        this.setState({ menuOpenSataus: !this.state.menuOpenSataus })\r\n    }\r\n\r\n    Logout = async () => {\r\n        await Logout(\r\n            () => {\r\n                NotificationManager.success('成功', '登出',3000);\r\n                this.props.navigate('/login');\r\n            },\r\n            () => {\r\n                NotificationManager.error('錯誤', '登出',3000);\r\n            }\r\n        );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.loadedAuth) return <Loading />\r\n\r\n        if (!this.state.isActive && !this.state.isAdmin && !this.state.isSuperAdmin) {\r\n            return (\r\n                <div className=\"p-3\">\r\n                    <div className=\"mx-auto shadow rounded mt-3 mb-3\" style={{ maxWidth: '600px', width: '100%', padding: '40px 30px' }}>\r\n                        <span>目前沒有權限<br /><br />請聯繫管理者賦予權限</span>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n\r\n        let Menu = <i className=\"bi bi-menu-up\"></i>;\r\n\r\n        if (this.state.menuOpenSataus) Menu = <i className=\"bi bi-arrow-return-left\"></i>;\r\n\r\n        let AdminItem = [];\r\n\r\n        if (this.state.isAdmin || this.state.isSuperAdmin) {\r\n            AdminItem.push(<Link key={\"create\"} to={\"./create\"}>\r\n                <Button className={`btn-circle position-fixed end-0 m-4 transition-primary btn-success ${this.state.menuOpenSataus ? \"shadow\" : \"\"}`} style={{ bottom: `${this.state.menuOpenSataus ? \"260px\" : \"0\"}`, zIndex: \"50\" }}>\r\n                    <i className=\"bi bi-plus-lg\"></i>\r\n                </Button>\r\n            </Link>);\r\n            AdminItem.push(<Link key={\"manage\"} to={\"./manage\"}>\r\n                <Button className={`btn-circle position-fixed end-0 m-4 transition-primary btn-success ${this.state.menuOpenSataus ? \"shadow\" : \"\"}`} style={{ bottom: `${this.state.menuOpenSataus ? \"195px\" : \"0\"}`, zIndex: \"50\" }}>\r\n                    <i className=\"bi bi-gear\"></i>\r\n                </Button>\r\n            </Link>);\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {AdminItem}\r\n                <Link to={\"./join\"}>\r\n                    <Button className={`btn-circle position-fixed end-0 m-4 transition-primary btn-success ${this.state.menuOpenSataus ? \"shadow\" : \"\"}`} style={{ bottom: `${this.state.menuOpenSataus ? \"130px\" : \"0\"}`, zIndex: \"50\" }}>\r\n                        <i className=\"bi bi-house-fill\"></i>\r\n                    </Button>\r\n                </Link>\r\n                <Button className={`btn-circle position-fixed end-0 m-4 transition-primary btn-success ${this.state.menuOpenSataus ? \"shadow\" : \"\"}`} style={{ bottom: `${this.state.menuOpenSataus ? \"65px\" : \"0\"}`, zIndex: \"50\" }} onClick={this.Logout}>\r\n                    <i className=\"bi bi-door-closed\"></i>\r\n                </Button>\r\n                <Button className={`btn-circle position-fixed end-0 m-4 transition-primary shadow ${this.state.menuOpenSataus ? \"btn-danger\" : \"btn-success\"}`} style={{ bottom: \"0\", zIndex: \"60\" }} onClick={this.MenuClick}>\r\n                    {Menu}\r\n                </Button>\r\n                <div>\r\n                    <Outlet />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default function LayoutNavigate(props) {\r\n    const navigate = useNavigate();\r\n\r\n    return <Layout {...props} navigate={navigate} />;\r\n}","import { getDatabase, ref, set } from 'firebase/database';\r\nimport { canActivate, getAsync } from './firebase-async';\r\nimport { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst auth = getAuth();\r\nconst db = getDatabase();\r\n\r\nexport const CurrentUser = async () => {\r\n    await canActivate();\r\n    return auth.currentUser;\r\n}\r\n\r\nexport const RegisterAccount = (email, password, callback, errorCallback) => {\r\n    createUserWithEmailAndPassword(auth, email, password)\r\n        .then(AddUser)\r\n        .then(callback)\r\n        .catch(errorCallback);\r\n}\r\n\r\nexport const LoginAccount = (email, password, callback, errorCallback) => {\r\n    signInWithEmailAndPassword(auth, email, password)\r\n        .then(AddUser)\r\n        .then(callback)\r\n        .catch(errorCallback);\r\n}\r\n\r\nexport const Logout = async (callback, errorCallback) => {\r\n    await canActivate();\r\n    auth.signOut().then(callback).catch(errorCallback);\r\n}\r\n\r\nexport const AddUser = () => {\r\n    const currentUser = auth.currentUser;\r\n    set(ref(db, `users/${currentUser.uid}/email`), currentUser.email);\r\n}\r\n\r\nexport const Auth = async () => {\r\n    const currentUser = auth.currentUser;\r\n    await getAsync(ref(db, `users/${currentUser.uid}`))\r\n        .then((snapshot) => {\r\n            if (snapshot.exists()) {\r\n                let userInfo = snapshot.val();\r\n                localStorage.setItem(\"email\", userInfo.email || false);\r\n            } else\r\n                throw new Error('nodata')\r\n        })\r\n        .catch(() => localStorage.removeItem(\"email\"))\r\n\r\n    await getAsync(ref(db, `isSuperAdmin/${currentUser.uid}`))\r\n        .then((snapshot) => {\r\n            if (snapshot.exists())\r\n                localStorage.setItem(\"isSuperAdmin\", snapshot.val() || false);\r\n            else\r\n                throw new Error('nodata')\r\n        })\r\n        .catch(() => localStorage.removeItem(\"isSuperAdmin\"))\r\n\r\n    await getAsync(ref(db, `isAdmin/${currentUser.uid}`))\r\n        .then((snapshot) => {\r\n            if (snapshot.exists())\r\n                localStorage.setItem(\"isAdmin\", snapshot.val() || false);\r\n            else\r\n                throw new Error('nodata')\r\n        })\r\n        .catch(() => localStorage.removeItem(\"isAdmin\"))\r\n\r\n    await getAsync(ref(db, `isActive/${currentUser.uid}`))\r\n        .then((snapshot) => {\r\n            if (snapshot.exists())\r\n                localStorage.setItem(\"isActive\", snapshot.val() || false);\r\n            else\r\n                throw new Error('nodata')\r\n        })\r\n        .catch(() => localStorage.removeItem(\"isActive\"))\r\n}","import { getAuth } from \"firebase/auth\";\r\nimport { DatabaseReference,DataSnapshot,onValue } from 'firebase/database';\r\n\r\nconst auth = getAuth();\r\n\r\nexport const canActivate = () => {\r\n    return new Promise(resolve => {\r\n        if (auth.currentUser) {\r\n            resolve(true);\r\n        } else {\r\n            const unsubscribe = getAuth().onAuthStateChanged(function (user) {\r\n                unsubscribe();\r\n                if (user) {\r\n                    resolve(true);\r\n                } else {\r\n                    resolve(false);\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport const getAsync = (ref: DatabaseReference): Promise<DataSnapshot>=> {\r\n    return new Promise((resolve, reject) => {\r\n        function onError(error) {\r\n            reject(error);\r\n        } \r\n\r\n        function onData(snap) {\r\n            resolve(snap);\r\n        }\r\n  \r\n        onValue(ref, onData, onError, { onlyOnce: true });\r\n    });\r\n}","const _excluded = [\"as\", \"disabled\"];\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isTrivialHref(href) {\n  return !href || href.trim() === '#';\n}\nexport function useButtonProps({\n  tagName,\n  disabled,\n  href,\n  target,\n  rel,\n  onClick,\n  tabIndex = 0,\n  type\n}) {\n  if (!tagName) {\n    if (href != null || target != null || rel != null) {\n      tagName = 'a';\n    } else {\n      tagName = 'button';\n    }\n  }\n\n  const meta = {\n    tagName\n  };\n\n  if (tagName === 'button') {\n    return [{\n      type: type || 'button',\n      disabled\n    }, meta];\n  }\n\n  const handleClick = event => {\n    if (disabled || tagName === 'a' && isTrivialHref(href)) {\n      event.preventDefault();\n    }\n\n    if (disabled) {\n      event.stopPropagation();\n      return;\n    }\n\n    onClick == null ? void 0 : onClick(event);\n  };\n\n  const handleKeyDown = event => {\n    if (event.key === ' ') {\n      event.preventDefault();\n      handleClick(event);\n    }\n  };\n\n  if (tagName === 'a') {\n    // Ensure there's a href so Enter can trigger anchor button.\n    href || (href = '#');\n\n    if (disabled) {\n      href = undefined;\n    }\n  }\n\n  return [{\n    role: 'button',\n    // explicitly undefined so that it overrides the props disabled in a spread\n    // e.g. <Tag {...props} {...hookProps} />\n    disabled: undefined,\n    tabIndex: disabled ? undefined : tabIndex,\n    href,\n    target: tagName === 'a' ? target : undefined,\n    'aria-disabled': !disabled ? undefined : disabled,\n    rel: tagName === 'a' ? rel : undefined,\n    onClick: handleClick,\n    onKeyDown: handleKeyDown\n  }, meta];\n}\nconst Button = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    as: asProp,\n    disabled\n  } = _ref,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const [buttonProps, {\n    tagName: Component\n  }] = useButtonProps(Object.assign({\n    tagName: asProp,\n    disabled\n  }, props));\n  return /*#__PURE__*/_jsx(Component, Object.assign({}, props, buttonProps, {\n    ref: ref\n  }));\n});\nButton.displayName = 'Button';\nexport default Button;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useButtonProps } from '@restart/ui/Button';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  variant: 'primary',\n  active: false,\n  disabled: false\n};\nconst Button = /*#__PURE__*/React.forwardRef(({\n  as,\n  bsPrefix,\n  variant,\n  size,\n  active,\n  className,\n  ...props\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'btn');\n  const [buttonProps, {\n    tagName\n  }] = useButtonProps({\n    tagName: as,\n    ...props\n  });\n  const Component = tagName;\n  return /*#__PURE__*/_jsx(Component, { ...buttonProps,\n    ...props,\n    ref: ref,\n    className: classNames(className, prefix, active && 'active', variant && `${prefix}-${variant}`, size && `${prefix}-${size}`, props.href && props.disabled && 'disabled')\n  });\n});\nButton.displayName = 'Button';\nButton.defaultProps = defaultProps;\nexport default Button;","import * as React from 'react';\nimport { useContext, useMemo } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const DEFAULT_BREAKPOINTS = ['xxl', 'xl', 'lg', 'md', 'sm', 'xs'];\nconst ThemeContext = /*#__PURE__*/React.createContext({\n  prefixes: {},\n  breakpoints: DEFAULT_BREAKPOINTS\n});\nconst {\n  Consumer,\n  Provider\n} = ThemeContext;\n\nfunction ThemeProvider({\n  prefixes = {},\n  breakpoints = DEFAULT_BREAKPOINTS,\n  dir,\n  children\n}) {\n  const contextValue = useMemo(() => ({\n    prefixes: { ...prefixes\n    },\n    breakpoints,\n    dir\n  }), [prefixes, breakpoints, dir]);\n  return /*#__PURE__*/_jsx(Provider, {\n    value: contextValue,\n    children: children\n  });\n}\n\nexport function useBootstrapPrefix(prefix, defaultPrefix) {\n  const {\n    prefixes\n  } = useContext(ThemeContext);\n  return prefix || prefixes[defaultPrefix] || defaultPrefix;\n}\nexport function useBootstrapBreakpoints() {\n  const {\n    breakpoints\n  } = useContext(ThemeContext);\n  return breakpoints;\n}\nexport function useIsRTL() {\n  const {\n    dir\n  } = useContext(ThemeContext);\n  return dir === 'rtl';\n}\n\nfunction createBootstrapComponent(Component, opts) {\n  if (typeof opts === 'string') opts = {\n    prefix: opts\n  };\n  const isClassy = Component.prototype && Component.prototype.isReactComponent; // If it's a functional component make sure we don't break it with a ref\n\n  const {\n    prefix,\n    forwardRefAs = isClassy ? 'ref' : 'innerRef'\n  } = opts;\n  const Wrapped = /*#__PURE__*/React.forwardRef(({ ...props\n  }, ref) => {\n    props[forwardRefAs] = ref;\n    const bsPrefix = useBootstrapPrefix(props.bsPrefix, prefix);\n    return /*#__PURE__*/_jsx(Component, { ...props,\n      bsPrefix: bsPrefix\n    });\n  });\n  Wrapped.displayName = `Bootstrap(${Component.displayName || Component.name})`;\n  return Wrapped;\n}\n\nexport { createBootstrapComponent, Consumer as ThemeConsumer };\nexport default ThemeProvider;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}"],"names":["Layout","props","MenuClick","setState","menuOpenSataus","state","Logout","NotificationManager","navigate","loadedAuth","isActive","isAdmin","isSuperAdmin","CurrentUser","this","Auth","localStorage","getItem","className","style","maxWidth","width","padding","Menu","AdminItem","push","to","bottom","zIndex","onClick","React","LayoutNavigate","useNavigate","auth","getAuth","db","getDatabase","canActivate","currentUser","RegisterAccount","email","password","callback","errorCallback","createUserWithEmailAndPassword","then","AddUser","catch","LoginAccount","signInWithEmailAndPassword","signOut","set","ref","uid","getAsync","snapshot","exists","Error","userInfo","val","setItem","removeItem","Promise","resolve","unsubscribe","onAuthStateChanged","user","reject","onValue","snap","error","onlyOnce","_excluded","useButtonProps","tagName","disabled","href","target","rel","tabIndex","type","meta","handleClick","event","trim","isTrivialHref","preventDefault","stopPropagation","undefined","role","onKeyDown","key","Button","_ref","asProp","as","source","excluded","i","sourceKeys","Object","keys","length","indexOf","_objectWithoutPropertiesLoose","assign","buttonProps","Component","_jsx","displayName","bsPrefix","variant","size","active","prefix","useBootstrapPrefix","classNames","defaultProps","DEFAULT_BREAKPOINTS","ThemeContext","prefixes","breakpoints","Consumer","Provider","defaultPrefix","useContext","useBootstrapBreakpoints","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"sourceRoot":""}